<div class="container-fluid mt-4 genericDiv">

  <div class="row fixedElement">
      <div class="row">
          <div class="col-6 hintDiv">
            <b><u>FIRST STEP</u></b><br>
            is needed to start the whole procedure. Remember that at this stage, information on the incident is generally
            incorrect, insufficient and approximate, with plenty of back rumours. This 1Â° step shall be linked (recall or refer
            to) with the specific INCIDENT ACTION PLAN
          </div>
        </div>
      
        <div class="row">
          <div class="col-6 hintDiv">
              <b><u>EACH STEP</u></b><br>
              aims to an objective, it should have the reason, time and space for starting and for ending. At the end of each
            step, you can SPECIFY the EXPECTED OUTCOMES. According to the OUTCOME you can suggest to move to ANY OF THE FOLLOWING
            STEPS
          </div>
        </div>
      
        <div class="row">
          <div class="col-6 hintDiv">
              <b><u>LAST STEP</u></b><br>
              shall be consistent with the PURPOSE of the SOP. It is the last action that enables the achievement of the overall
            purpose and the deisired results, according to the objectives of the INCIDENT ACTION PLAN
          </div>
        </div>
  </div>

  <div class="row" style="padding:10px;">
    <h6 translate>Insert the Sop Steps</h6>
  </div>

  <form [formGroup]="stepsForm">
    <div formArrayName="steps">
      <div *ngFor="let step of stepsForm.controls.steps.controls;let i=index" [formGroupName]="i">
        <div class="row" style="padding:10px;">
          <label class="label label-default"><b><u>STEP {{i+1}}</u></b></label>
        </div>
        <div class="row">
          <div class="col-xs-12 col-sm-6 col-md-6 col-lg-8 col-xl-6">
            <div class="form-group" [class.has-danger]="formErrors['title'+i]">
              <label class="text-uppercase-bold" for="title" translate>LABELS.STEPS-TITLE.TITLE</label>
              <!-- <input [(ngModel)]="step.title" type="text" class="form-control" formControlName="title" [class.form-control-danger]="formErrors.title"
              id=title{{i}} placeholder="Title" value={{step.title}}> -->
              <input type="text" class="form-control" formControlName="title" [class.form-control-danger]="formErrors['title'+i]" id=title{{i}}
                placeholder="Title ">
              <!-- <input type="text" class="form-control" formControlName="title" [class.form-control-danger]="formErrors['title'+i]" id=title{{i}}
                placeholder="Title " value={{step.title}}> -->
              <div class="form-control-feedback ">
                {{formErrors['title'+i]}}
              </div>
            </div>
          </div>
        </div>
        <div class="row ">
          <div class="col-xs-12 col-sm-6 col-md-6 col-lg-8 col-xl-6">
            <div class="form-group " [class.has-danger]="formErrors['description'+i]">
              <label class="text-uppercase-bold " for="description" translate>LABELS.STEPS-DESCRIPTION.TITLE</label>
              <!-- <textarea [(ngModel)]="step.description " class="form-control " formControlName="description
                " [class.form-control-danger]="formErrors.description "
              id=desc{{i}} placeholder="Description " value={{step.description}}></textarea> -->
              <!-- <textarea class="form-control" formControlName="description" [class.form-control-danger]="formErrors['description'+i]" id=description{{i}}
                placeholder="Description " value={{step.description}}></textarea> -->
              <textarea class="form-control" formControlName="description" [class.form-control-danger]="formErrors['description'+i]" id=description{{i}}
                placeholder="Description "></textarea>
              <div class="form-control-feedback ">
                {{formErrors['description'+i]}}
              </div>
            </div>
          </div>
          <button class="btn buttonRemove " (click)="onRemoveStep(i) " type="submit ">
            <i class="fa fa-times " aria-hidden="true "></i>
          </button>
        </div>
      </div>
      <div class="row ">
        <button class="btn buttonAdd " (click)="onAddStep() " type="submit ">
          <i class="fa fa-plus " aria-hidden="true "></i>
        </button>
      </div>
      <div class="row ">
        <div class="col-12 d-flex justify-content-end ">
          <button class="btn btn-darkblue btn-forms-appid rounded-0 mt-4 btn-width " (click)="onBackInfo() ">
            <span translate>BACK</span>
          </button>
          <button class="btn btn-darkblue btn-forms-appid rounded-0 mt-4 btn-width " [disabled]="!stepsForm.valid
                " (click)="onNextResponsibles() ">
            <span translate>NEXT</span>
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
